# 基础指标定义配置
# 格式：指标标识符 -> 指标配置
basicMetrics:
  "中压拓扑.配变统计.配变总数":
    name: "配变总数"
    category: "中压拓扑"
    subCategory: "配变统计"
    unit: "个"
    description: "中压配变总数统计"
    uuid: "550e8400-e29b-41d4-a716-446655440001"
    dataSource:
      sourceType: "HTTP_API"
      sourceAddress: "http://api.example.com/transformer/count"
      sourceName: "配变统计API"
      refreshInterval: 300
      enabled: true

  "中压拓扑.拓扑不一致.配变挂接馈线不一致数量":
    name: "配变挂接馈线不一致数量"
    category: "中压拓扑"
    subCategory: "拓扑不一致"
    unit: "个"
    description: "配变挂接馈线不一致的数量"
    uuid: "550e8400-e29b-41d4-a716-446655440002"
    dataSource:
      sourceType: "HTTP_API"
      sourceAddress: "http://api.example.com/topology/inconsistency"
      sourceName: "拓扑不一致API"
      refreshInterval: 300
      enabled: true

  "低压用户关系.低压用户统计.全省低压用户总数":
    name: "全省低压用户总数"
    category: "低压用户关系"
    subCategory: "低压用户统计"
    unit: "户"
    description: "全省低压用户总数统计"
    uuid: "550e8400-e29b-41d4-a716-446655440003"
    dataSource:
      sourceType: "HTTP_API"
      sourceAddress: "http://api.example.com/user/count"
      sourceName: "用户统计API"
      refreshInterval: 600
      enabled: true

  "低压用户关系.变户关系错误.变户关系不正确的低压用户数":
    name: "变户关系不正确的低压用户数"
    category: "低压用户关系"
    subCategory: "变户关系错误"
    unit: "户"
    description: "变户关系不正确的低压用户数量"
    uuid: "550e8400-e29b-41d4-a716-44665544000004"
    dataSource:
      sourceType: "HTTP_API"
      sourceAddress: "http://api.example.com/relation/error"
      sourceName: "关系错误API"
      refreshInterval: 600
      enabled: true

  "测试.MQTT.实时功率":
    name: "实时功率"
    category: "测试"
    subCategory: "MQTT"
    unit: "kW"
    description: "通过MQTT获取的实时功率数据"
    uuid: "550e8400-e29b-41d4-a716-44665544000005"
    dataSource:
      sourceType: "MQTT"
      sourceAddress: "mqtt://broker.example.com:1883/topic/power"
      sourceName: "功率MQTT主题"
      samplingInterval: 5
      enabled: true

  "测试.数据库.历史负荷":
    name: "历史负荷"
    category: "测试"
    subCategory: "数据库"
    unit: "MW"
    description: "从SQLite数据库获取的历史负荷数据"
    uuid: "550e8400-e29b-41d4-a716-44665544000006"
    dataSource:
      sourceType: "DATABASE"
      config:
        connectionString: "jdbc:sqlite:data/test_metrics.db"
        username: ""
        password: ""
        query: "SELECT AVG(load_value) FROM historical_load WHERE date >= datetime('now', '-1 day')"
        driver: "org.sqlite.JDBC"
      sourceName: "负荷数据库"
      refreshInterval: 3600
      enabled: true

  "测试.数据库.配变总数":
    name: "配变总数"
    category: "测试"
    subCategory: "数据库"
    unit: "个"
    description: "从SQLite数据库获取的配变总数"
    uuid: "550e8400-e29b-41d4-a716-44665544000007"
    dataSource:
      sourceType: "DATABASE"
      config:
        connectionString: "jdbc:sqlite:data/test_metrics.db"
        username: ""
        password: ""
        query: "SELECT COUNT(*) FROM transformers WHERE status = 'active'"
        driver: "org.sqlite.JDBC"
      sourceName: "配变数据库"
      refreshInterval: 1800
      enabled: true

  "测试.数据库.用户总数":
    name: "用户总数"
    category: "测试"
    subCategory: "数据库"
    unit: "户"
    description: "从SQLite数据库获取的用户总数"
    uuid: "550e8400-e29b-41d4-a716-44665544000008"
    dataSource:
      sourceType: "DATABASE"
      config:
        connectionString: "jdbc:sqlite:data/test_metrics.db"
        username: ""
        password: ""
        query: "SELECT COUNT(*) FROM users WHERE active = 1"
        driver: "org.sqlite.JDBC"
      sourceName: "用户数据库"
      refreshInterval: 1800
      enabled: true

  "测试.文件.配置文件":
    name: "配置文件"
    category: "测试"
    subCategory: "文件"
    unit: "个"
    description: "从文件读取的配置信息"
    uuid: "550e8400-e29b-41d4-a716-44665544000009"
    dataSource:
      sourceType: "FILE"
      sourceAddress: "/data/config/metrics.json"
      sourceName: "配置文件"
      refreshInterval: 1800
      enabled: true

  "测试.HTTP.随机数":
    name: "随机数"
    category: "测试"
    subCategory: "HTTP"
    unit: "个"
    description: "从random.org获取的0-100随机整数"
    uuid: "550e8400-e29b-41d4-a716-44665544000010"
    dataSource:
      sourceType: "HTTP_API"
      sourceAddress: "https://www.random.org/integers/?num=1&min=0&max=100&col=1&base=10&format=plain&rnd=new&timestamp=${timestamp}"
      sourceName: "Random.org API"
      refreshInterval: 2
      enabled: true
